# **kth-largest-element-in-an-array/**
**ğŸ”— é¢˜ç›®é“¾æ¥ï¼š**  
**[kth-largest-element-in-an-array/](https://leetcode.cn/problems/kth-largest-element-in-an-array/description/?envType=problem-list-v2&envId=heap-priority-queue/)**
---

## **è§£é¢˜ä»£ç ï¼ˆC++ï¼‰**

```cpp
class Solution {
public:
    int findKthLargest(vector<int>& nums, int k) {
        int n = nums.size();

        // 1. å»ºå¤§æ ¹å †
        for (int i = n/2 - 1; i >= 0; i--) {
            heapify(nums, n, i);
        }

        // 2. åˆ é™¤ k-1 æ¬¡æœ€å¤§å€¼
        for (int i = 0; i < k-1; i++) {
            swap(nums[0], nums[n-1-i]);
            heapify(nums, n-1-i, 0);
        }

        return nums[0];
    }

    void heapify(vector<int>& nums, int heapSize, int i) {
        while (true) {
            int largest = i;
            int left = 2*i + 1;
            int right = 2*i + 2;

            if (left < heapSize && nums[left] > nums[largest])
                largest = left;
            if (right < heapSize && nums[right] > nums[largest])
                largest = right;

            if (largest == i) break;

            swap(nums[i], nums[largest]);
            i = largest;
        }
    }
};
è§£é¢˜æ€è·¯ï¼š
é‡‡ç”¨å¤§é¡¶å †ï¼Œå»ºå †çš„æ—¶å€™æ˜¯å…ˆæ“ä½œæœ€åä¸€ä¸ªä¸æ˜¯å¶å­èŠ‚ç‚¹çš„å…ƒç´ ï¼ŒåŒæ—¶åœ¨æ‰¾å¯»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹çš„æ—¶å€™æ˜¯é‡‡ç”¨n/2-1ï¼Œnç›¸å½“äºä¸€ä¸ªè™šæ‹Ÿçš„å…ƒç´ çš„ä¸‹æ ‡ï¼Œåœ¨åˆ¤æ–­æ˜¯å¦å­˜åœ¨å·¦å­©å­æ—¶ï¼ŒæŠŠ n å½“ä½œå·¦å­©å­ä¸‹æ ‡çš„ä¸Šç•Œå“¨å…µï¼ˆsentinelï¼‰
