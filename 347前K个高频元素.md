# **top-k-frequent-elements**
**ğŸ”— é¢˜ç›®é“¾æ¥ï¼š**  
**[top-k-frequent-elements](https://leetcode.cn/problems/top-k-frequent-elements/description/?envType=problem-list-v2&envId=divide-and-conquer)**
---

## **è§£é¢˜ä»£ç ï¼ˆC++ï¼‰**

```cpp
class Solution
{
public:
    void heapify(vector<pair<int,int>>& freq, int size, int index)
    {
        while (true)
        {
            int largest = index;
            int left = 2 * index + 1;
            int right = 2 * index + 2;

            if (left < size && freq[left].second > freq[largest].second)
                largest = left;

            if (right < size && freq[right].second > freq[largest].second)
                largest = right;

            if (largest == index)
                return;

            swap(freq[largest], freq[index]);
            index = largest;
        }
    }

    vector<int> topKFrequent(vector<int>& nums, int k)
    {
        unordered_map<int,int> mp;
        vector<pair<int,int>> freq;
        vector<int> result;

        // ç»Ÿè®¡é¢‘ç‡
        for (int x : nums)
            mp[x]++;

        // è½¬ä¸ºæ•°ç»„
        for (auto &p : mp)
            freq.push_back(p);

        int n = freq.size();

        // å»ºå¤§æ ¹å †
        for (int i = n / 2 - 1; i >= 0; i--)
            heapify(freq, n, i);

        // å–å‰ k ä¸ª
        for (int i = 0; i < k; i++)
        {
            result.push_back(freq[0].first);
            swap(freq[0], freq[n - 1 - i]);
            heapify(freq, n - 1 - i, 0);
        }

        return result;
    }
};

è§£é¢˜æ€è·¯ï¼š
é‡‡ç”¨å¤§é¡¶å †,åŒæ—¶é‡‡ç”¨å“ˆå¸Œè¡¨å»è®°å½•é¢‘ç‡ï¼Œæ˜¯æŒ‰ç…§å‡ºç°çš„æ¬¡æ•°å»ºç«‹å †çš„ï¼ŒåŒæ—¶å¯¹äºmapæ˜¯é‡‡ç”¨first,secondçš„æ–¹å¼å»æ‰¾å¯»ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå…ƒç´ 
çˆ¶ç»“ç‚¹ï¼š (i - 1) / 2      ï¼ˆi > 0ï¼‰
å·¦å­©å­ï¼š 2*i + 1
å³å­©å­ï¼š 2*i + 2 (ä¸‹æ ‡ä»0å¼€å§‹)
æœ€åä¸€ä¸ªä¸æ˜¯å¶å­èŠ‚ç‚¹çš„å…ƒç´ ï¼šn/2-1
