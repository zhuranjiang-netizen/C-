# **maximum-path-score-in-a-grid**
**ğŸ”— é¢˜ç›®é“¾æ¥ï¼š**  
**[maximum-path-score-in-a-grid](https://leetcode.cn/problems/maximum-path-score-in-a-grid/)**
---

## **è§£é¢˜ä»£ç ï¼ˆC++ï¼‰**

```cpp
class Solution {
public:
    int maxPathScore(vector<vector<int>>& grid, int k) {
        int m = grid.size();
        int n = grid[0].size();
        
        vector<vector<int>> dp(n, vector<int>(k+1, -1));
        
        for (int i = 0; i < m; i++) {
            vector<vector<int>> new_dp(n, vector<int>(k+1, -1));
            for (int j = 0; j < n; j++) {
                int cost = (grid[i][j] == 0 ? 0 : 1);
                int val = grid[i][j];
                
                for (int c = cost; c <= k; c++) {
                    int best = -1;
                    // æ¥è‡ªä¸Šè¾¹
                    if (i > 0 && dp[j][c - cost] != -1)
                        best = max(best, dp[j][c - cost]);
                    // æ¥è‡ªå·¦è¾¹
                    if (j > 0 && new_dp[j-1][c - cost] != -1)
                        best = max(best, new_dp[j-1][c - cost]);
                    // èµ·ç‚¹
                    if (i == 0 && j == 0 && c == cost)
                        best = max(best, 0);
                    
                    if (best != -1)
                        new_dp[j][c] = best + val;
                }
            }
            dp = move(new_dp); // æ›´æ–°ä¸Šä¸€è¡ŒçŠ¶æ€
        }
        
        int ans = -1;
        for (int c = 0; c <= k; c++)
            ans = max(ans, dp[n-1][c]);
        return ans;
    }
};
è§£é¢˜æ€è·¯ï¼š
ä¸€å¼€å§‹æˆ‘ä¹Ÿæ˜¯é‡‡ç”¨äº†å‹ç¼©dpçš„æ–¹å¼ï¼Œä½†æ˜¯huluelé¢˜æ„æ˜¯å°äºç­‰äºk,è€Œæˆ‘æ¯ä¸€è¡Œéƒ½é™åˆ¶silèŠ±è´¹ï¼Œæ‰€ä»¥å¯¼è‡´æ›´æ–°æœ‰
é—®é¢˜ï¼Œä½†æ˜¯åªè¦è½¬æ¢ä¸€ä¸‹dpæ•°ç»„çš„ç»“æ„å°±å¥½äº†ï¼Œæ•´é“é¢˜ç›®æ˜¯èƒŒåŒ…é—®é¢˜å’ŒçŠ¶æ€å‹ç¼©çš„ç»“åˆã€‚
